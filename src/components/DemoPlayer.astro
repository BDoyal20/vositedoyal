---
interface Props {
  title: string;
  src: string;
}
const { title, src } = Astro.props;
---
<div class="demo-player" data-demo role="group" aria-label={`Audio demo: ${title}`}>
  <!-- Play / Pause -->
  <button class="demo-btn" data-action="toggle" aria-label={`Play ${title}`} aria-pressed="false">▶</button>

  <!-- Title, time, progress -->
  <div class="demo-main">
    <div class="demo-row">
      <span class="demo-title">{title}</span>
      <span class="demo-time" data-time>0:00 / 0:00</span>
    </div>

    <div class="demo-progress" data-progress aria-label="Audio progress">
      <div class="demo-bar" data-bar></div>
      <div class="demo-thumb" data-thumb></div>
      <!-- range kept for keyboard access -->
      <input class="demo-seek" type="range" min="0" max="100" value="0" step="0.1" aria-label="Seek" />
    </div>
  </div>

  <!-- Stop -->
  <button class="demo-btn small" data-action="stop" aria-label="Stop">■</button>

  <!-- Volume + Download -->
  <div class="demo-ctrls">
    <label class="sr-only" for={`vol-${title}`}>Volume</label>
    <input id={`vol-${title}`} class="demo-volume" type="range" min="0" max="100" value="75" step="1" aria-label="Volume" />
    <a class="demo-btn small demo-download" href={src} download aria-label={`Download ${title}`}>⤓</a>
  </div>

  <!-- Native audio (hidden visually) -->
  <audio preload="metadata" src={src}></audio>
</div>
